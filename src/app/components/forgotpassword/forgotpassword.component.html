
<section *ngIf="step1" class="w-50 mx-auto rounded p-3 bg-main-light shadow">
  <form [formGroup]="emailForm" (ngSubmit)="forgotPassword()" >
    <div class="form-item">
      <label for="email">email</label>
      <input
        type="email"
        formControlName="email"
        class="form-control"
        id="email"
      />
      <div
        *ngIf="
          (emailForm.get('email')?.touched ||
            emailForm.get('email')?.value.length > 0) &&
          emailForm.get('email')?.errors
        "
        class="alert alert-danger text-center p-1 w-50 small mx-auto"
      >
        <p class="mb-0" *ngIf="emailForm.get('email')?.getError('required')">
          email is required
        </p>
        <p class="mb-0" *ngIf="emailForm.get('email')?.getError('email')">
          email invalid format
        </p>
      </div>
    </div>
    <button class="main-btn mt-3 w-100" [disabled]="emailForm.invalid" >
      Forgot password
      <span *ngIf="isLoading"> <i class="fas fa-spin fa-spinner"></i></span>
    </button>
    <p *ngIf="userMsg" class="mx-auto alert alert-danger mt-2 w-75 text-center"> {{userMsg}} </p>
  </form>
</section>

<section *ngIf="step2" class="w-50 mx-auto rounded p-3 bg-main-light shadow">
    <form [formGroup]="resetCodeForm" (ngSubmit)="resetCode()">
      <div class="form-item">
        <label for="newPassword">resitFormCode</label>
        <input
          type="text"
          formControlName="resetCode"
          class="form-control"
          id="resitFormCode"
        />
        <div
          *ngIf="
            (resetCodeForm.get('resitFormCode')?.touched ||
              resetCodeForm.get('resitFormCode')?.value.length > 0)   "
          class="alert alert-danger text-center p-1 w-50 small mx-auto"
        >
          <p class="mb-0" *ngIf="resetCodeForm.get('resitFormCode')?.getError('required')">
            Code is required
          </p>
  
        </div>
      </div>
      <button class="main-btn mt-3 w-100" [disabled]="resetCodeForm.invalid" >
        Verify reset code
        <span *ngIf="isLoading"> <i class="fas fa-spin fa-spinner"></i></span>
      </button>
    </form>
    <p *ngIf="userMsg" class="mx-auto alert alert-danger mt-2 w-75 text-center"> {{userMsg}} </p>
  </section>

   
<section *ngIf="step3" class="w-50 mx-auto rounded p-3 bg-main-light shadow">
    <form [formGroup]="passwordForm" (ngSubmit)="resetPassword()">
      <div class="form-item">
        <label for="newPassword">newPassword</label>
        <input
          type="password"
          formControlName="newPassword"
          class="form-control"
          id="newPassword"
        />
        <div
          *ngIf="
            (passwordForm.get('newPassword')?.touched ||
              passwordForm.get('newPassword')?.value.length > 0)   "
          class="alert alert-danger text-center p-1 w-50 small mx-auto"
        >
          <p class="mb-0" *ngIf="passwordForm.get('newPassword')?.getError('required')">
            New Password is required
          </p>
  
        </div>
      </div>
      <button class="main-btn mt-3 w-100" [disabled]="passwordForm.invalid" >
        Reset password
        <span *ngIf="isLoading"> <i class="fas fa-spin fa-spinner"></i></span>
      </button>
    </form>
    <p *ngIf="userMsg" class="mx-auto alert alert-danger mt-2 w-75 text-center"> {{userMsg}} </p>
  </section>
