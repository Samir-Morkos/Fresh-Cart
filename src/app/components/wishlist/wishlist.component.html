

<section class="py-4">

    <div class="row g-4 mt-3">
      <div
        *ngFor="let product of products "
        class="col-sm-6 col-md-4 col-lg-3 col-xl-2"
      >
        <div class="product h-100">
          <i (click)="addFav(product._id)" class="fa-regular fa-heart heart"></i>
          <i *ngIf="wishList.includes ($any(product._id) )" (click)="removeFav(product._id)" class="fas fa-heart heart"></i>
          <header
            [routerLink]="['/productdetails', product._id]"
            role="button"
            class="p-1"
          >
            <img
              class="w-100"
              [src]="product.imageCover"
              [title]="product.title"
              [alt]="product.title"
            />
            <h3 class="h6 small">{{ product.title | cuttext : 3 }}</h3>
            <h4 class="h6 text-main">{{ product.category.name }}</h4>
            <div class="d-flex justify-content-between align-items-center small">
              <span>{{ product.price | currency : "EGP" }} </span>
              <div>
                <i class="fas fa-star rating-color"></i>
                <span class="text-muted">{{ product.ratingsAverage }} </span>
              </div>
            </div>
          </header>
          <footer>
            <button
              (click)="addProduct(product._id, btnAdd)"
              #btnAdd
              class="main-btn w-100 py-2"
            >
              + Add to cart
            </button>
          </footer>
        </div>
      </div>
    </div>
  </section>
